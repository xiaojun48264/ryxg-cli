import{AbstractCommand as c}from"./abstract.command.mjs";import p from"prompts";import r from"chalk";import{getRemainingFlags as i}from"../lib/utils/remaining-flags.mjs";const e=[{title:"Android",value:"android"}];class l extends c{load(a){a.command("run").argument("[platform]","\u8FD0\u884C\u5E73\u53F0",o=>e.some(u=>u.value===o)?o:"").allowUnknownOption().option("-cu --custom","\u81EA\u5B9A\u4E49\u57FA\u5EA7").option("-p --path","\u9879\u76EE\u8DEF\u5F84").description("\u542F\u52A8\u5E94\u7528").action(async(o,u)=>{const m=await p([{name:"platform",type:o?null:"select",message:"\u9009\u62E9\u5E73\u53F0",choices:e}],{onCancel(){console.log(r.red("\u2716")+" \u64CD\u4F5C\u88AB\u53D6\u6D88"),process.exit(1)}}),t=[];t.push({name:"custom",value:!!u.custom}),t.push({name:"path",value:u.path||process.cwd()});const n=[];n.push({name:"platform",value:o||m.platform});const s=i(a);try{await this.action.handle(n,t,s)}catch{process.exit(1)}})}}export{l as RunCommand};
