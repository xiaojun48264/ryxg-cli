import{AbstractCommand as c}from"./abstract.command.mjs";import p from"prompts";import r from"chalk";import{getRemainingFlags as l}from"../lib/utils/remaining-flags.mjs";const n=[{title:"Android",value:"android"},{title:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F",value:"wx"}];class i extends c{load(a){a.command("run").argument("[platform]","\u8FD0\u884C\u5E73\u53F0",u=>n.some(o=>o.value===u)?u:"").allowUnknownOption().option("-cu --custom","\u81EA\u5B9A\u4E49\u57FA\u5EA7").option("-p --path","\u9879\u76EE\u8DEF\u5F84").description("\u542F\u52A8\u5E94\u7528").action(async(u,o)=>{const m=await p([{name:"platform",type:u?null:"select",message:"\u9009\u62E9\u5E73\u53F0",choices:n}],{onCancel(){console.log(r.red("\u2716")+" \u64CD\u4F5C\u88AB\u53D6\u6D88"),process.exit(1)}}),t=[];t.push({name:"custom",value:!!o.custom}),t.push({name:"path",value:o.path||process.cwd()});const e=[];e.push({name:"platform",value:u||m.platform});const s=l(a);try{await this.action.handle(e,t,s)}catch{process.exit(1)}})}}export{i as RunCommand};
